<!-- Componente de Cabeçalho da Página -->
<div class="flex justify-between p-4">
    <app-header-page subtitle="Pedidos" title="Carrinho"></app-header-page>
    <app-header-profile></app-header-profile>
</div>

<section class="w-[96rem] gap-4 flex flex-col px-4 py-9">
    <!-- CONTEÚDO -->
    <div class="flex w-full gap-12 justify-between">
        <!-- PRODUTOS -->
        <div class="flex flex-col w-3/5 gap-5">
            <!-- PRODUTOS -->
            <div class="shadow-lg rounded-lg border border-gray-300 p-8 gap-3.5 flex flex-col">
                <div class="flex justify-between items-center">
                    <p class="font-bold text-2xl">Produtos</p>
                    <button class="button-outline-red" (click)="removeAllProducts()">
                        <mat-icon>delete</mat-icon>
                        REMOVER TODOS OS PRODUTOS
                    </button>
                </div>
                <hr class="my-4 border-t border-gray-300">
                <div class="flex flex-col gap-5">
                    <app-card-product-cart *ngFor="let item of cartItems" [product]="item.product"
                        [quantity]="item.quantity" (productRemoved)="bringCart()" (productAdded)="bringCart()"
                        (productDecreased)="bringCart()">
                    </app-card-product-cart>
                </div>
                <!-- INPUT -->
                <div class="flex items-center mt-4 justify-between">
                    <div class="relative flex flex-col justify-center">
                        <label class="text-stone-400">Cupom de desconto</label>
                        <input type="text"
                            class="w-[30rem] h-12 pl-10 pr-10 bg-[#F5F5F5] border-none rounded-lg outline-none"
                            value="Exemplo preenchido">
                    </div>
                    <button class="button-outline w-2/6 mt-6">APLICAR CUPOM</button>
                </div>
            </div>
        </div>
        <!-- RESUMO DA COMPRA -->
        <div class="flex-col w-1/3">
            <!-- RESUMO -->
            <div class="shadow-lg rounded-lg border border-gray-300 p-8 gap-3.5 flex flex-col">
                <p class="uppercase font-bold">Resumo</p>
                <div class="flex justify-between">
                    <p>Valor dos Produtos:</p>
                    <p class="font-bold text-2xl">R${{ getTotalProductValue() }}</p>
                </div>
                <hr class="my-4 border-t border-gray-300">
                <div class="flex justify-between bg-neutral-400 rounded-lg p-4">
                    <p class="text-black">Total à prazo:</p>
                    <div class="flex flex-col justify-end items-end">
                        <p class="font-bold text-2xl text-black">R${{ getTotalProductValue() }}
                        </p>
                        <span class="text-black">(em até 12x de R${{ getTotalInstallmentValue()
                            }})</span>
                    </div>
                </div>
                <div class="flex justify-between bg-[#F0BF4E] rounded-lg p-4">
                    <p class="text-black">À vista:</p>
                    <div class="flex flex-col justify-end items-end">
                        <p class="font-bold text-2xl text-black">R${{ getTotalCashValue() }}</p>
                        <span class="text-black">(Economize: R${{ getCashSavings() }})</span>
                    </div>
                </div>
                <div class="flex flex-col gap-5 mt-4">
                    <button class="button font-bold text-black uppercase" (click)="goToPayment()">Concluir</button>
                    <button class="button-outline font-bold" (click)="goToProducts()">CONTINUAR COMPRANDO</button>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- Card com Áudio -->
<section class="w-[96rem] gap-4 flex flex-col px-4 py-9">
    <div class="shadow-lg rounded-lg border border-gray-300 p-8 gap-3.5 flex flex-col">
        <h2 class="text-xl font-bold mb-4">Envie um áudio falando da box</h2>
        <div class="relative bg-[#D9D9D9] rounded-full p-4 flex items-center justify-center">
            <mat-icon class="absolute right-4 top-1/2 transform -translate-y-1/2">mic</mat-icon>
        </div>
    </div>
</section>